<!DOCTYPE article PUBLIC "-//TaxonX//DTD Taxonomic Treatment Publishing DTD v0 20100105//EN" "tax-treatment-NS0.dtd"><article article-type="research-article" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tp="http://www.plazi.org/taxpub">
    <front>
        <journal-meta>
            <journal-id journal-id-type="publisher-id">PhytoKeys</journal-id>
            <journal-title-group>
                <journal-title xml:lang="en">PhytoKeys</journal-title>
                <abbrev-journal-title xml:lang="en">PhytoKeys</abbrev-journal-title>
            </journal-title-group>
            <issn pub-type="ppub">1314-2011</issn>
            <issn pub-type="epub">1314-2003</issn>
            <publisher>
                <publisher-name>Pensoft Publishers</publisher-name>
            </publisher>
        </journal-meta>
        <article-meta>
            <article-id pub-id-type="doi">10.3897/phytokeys.9.2770</article-id>
            <title-group>
                <article-title>From text to structured data: Converting a word-processed floristic checklist into  Darwin Core Archive format</article-title>
            </title-group>
            <contrib-group>
                <contrib contrib-type="author" xlink:type="simple">
                    <name name-style="western">
                        <surname>Remsen</surname>
                        <given-names>David</given-names>
                    </name>
                    <xref ref-type="aff" rid="A1">1</xref>
                </contrib>
                <contrib contrib-type="author" xlink:type="simple">
                    <name name-style="western">
                        <surname>Knapp</surname>
                        <given-names>Sandra</given-names>
                    </name>
                    <xref ref-type="aff" rid="A2">2</xref>
                </contrib>
                <contrib contrib-type="author" xlink:type="simple">
                    <name name-style="western">
                        <surname>Georgiev</surname>
                        <given-names>Teodor</given-names>
                    </name>
                    <xref ref-type="aff" rid="A3">3</xref>
                </contrib>
                <contrib contrib-type="author" xlink:type="simple">
                    <name name-style="western">
                        <surname>Stoev</surname>
                        <given-names>Pavel</given-names>
                    </name>
                    <xref ref-type="aff" rid="A4">4</xref>
                </contrib>
                <contrib contrib-type="author" xlink:type="simple">
                    <name name-style="western">
                        <surname>Penev</surname>
                        <given-names>Lyubomir</given-names>
                    </name>
                    <xref ref-type="aff" rid="A5">5</xref>
                </contrib>
            </contrib-group>
            <aff id="A1">
                <label>1</label>Global Biodiversity Information Facility, Copenhagen, Denmark
            </aff>
            <aff id="A2">
                <label>2</label>Department of Botany, Natural History Museum, Cromwell Road, London SW7 5BD, UK
            </aff>
            <aff id="A3">
                <label>3</label>Pensoft Publishers, Sofia, Bulgaria
            </aff>
            <aff id="A4">
                <label>4</label>National Museum  of Natural History &amp; Pensoft Publishers, Sofia, Bulgaria
            </aff>
            <aff id="A5">
                <label>5</label>Institute of Biodiversity and Ecosystem Research &amp; Pensoft Publishers, Sofia, Bulgaria
            </aff>
            <author-notes>
                <fn fn-type="corresp">
                    <p>Corresponding authors: David Remsen (<email xlink:type="simple">dremsen@gbif.org</email>), Sandra Knapp (<email xlink:type="simple">s.knapp@nhm.ac.uk</email>), Lyubomir Penev (<email xlink:type="simple">info@pensoft.net</email>)</p>
                </fn>
                <fn fn-type="edited-by">
                    <p>Academic editor: David Roberts</p>
                </fn>
            </author-notes>
            <pub-date pub-type="collection">
                <year>2012</year>
            </pub-date>
            <pub-date pub-type="epub">
                <day>30</day>
                <month>1</month>
                <year>2012</year>
            </pub-date>
            <issue>9</issue>
            <fpage>1</fpage>
            <lpage>13</lpage>
            <history>
                <date date-type="received">
                    <day>10</day>
                    <month>1</month>
                    <year>2012</year>
                </date>
                <date date-type="accepted">
                    <day>27</day>
                    <month>1</month>
                    <year>2012</year>
                </date>
            </history>
            <permissions>
                <copyright-statement>David Remsen, Sandra Knapp, Teodor GeorgievPavel Stoev4, Lyubomir Penev</copyright-statement>
                <license license-type="creative-commons-attribution" xlink:href="http://creativecommons.org/licenses/by/3.0" xlink:type="simple">
                    <license-p>This is an open access article distributed under the terms of the Creative Commons Attribution License 3.0 (CC-BY), which permits unrestricted use, distribution, and reproduction in any medium, provided the original author and source are credited.</license-p>
                </license>
            </permissions>
            <abstract>
                <label>Abstract</label>
                <p>The paper describes a pilot project to convert a conventional floristic checklist, written in a standard word processing program, into structured data in the Darwin Core Archive format. After peer-review and editorial acceptance, the final revised version of the checklist was converted into Darwin Core Archive by means of regular expressions and published thereafter in both human-readable form as traditional botanical publication and Darwin Core Archive data files. The data were published and indexed through the Global Biodiversity Information Facility (GBIF) Integrated Publishing Toolkit (IPT) and significant portions of the text of the paper were used to describe the metadata on IPT. After publication, the data will become available through the GBIF infrastructure and can be re-used on their own or collated with other data.</p>
            </abstract>
            <kwd-group>
                <label>Keywords</label>
                <kwd>Data mining</kwd>
                <kwd>taxonomic checklists</kwd>
                <kwd>Darwin Core Archive</kwd>
            </kwd-group>
        </article-meta>
    </front>
    <body>
        <sec sec-type="Introduction"><title>Introduction</title>
            <p>Data mining and converting texts to structured data, especially of historical biodiversity literature, is a major challenge in biodiversity informatics. Methods and tools developed to provide such conversions ideally should allow extraction of data from texts of both legacy and prospectively published literature and their incorporation into <!--PageBreak-->globally accessible databases (<xref ref-type="bibr" rid="B10">Kirkup et al. 2005</xref>; <xref ref-type="bibr" rid="B3">Brandenburger and  Hagedorn 2006</xref>; <xref ref-type="bibr" rid="B5">Curry and Connor 2007</xref>, <xref ref-type="bibr" rid="B6">2008</xref>; <xref ref-type="bibr" rid="B2">Agosti et al. 2007</xref>; <xref ref-type="bibr" rid="B14">Penev et al. 2011</xref>).</p>
            <p>This paper describes a pilot project of such a conversion realized for the journal PhytoKeys. A conventionally written <italic>Checklist of vascular plants of the Department of Ñeembucú, Paraguay</italic> (<xref ref-type="bibr" rid="B7">De Egea et al. 2012</xref>), consisting of  more than 4,100 taxon names, was submitted to PhytoKeys as a Microsoft Word file. After peer-review and editorial acceptance, the final revised version was converted into Darwin Core Archive format from the original manuscript and published both as a conventional paper in PhytoKeys and as DwC-A structured data through the Global Biodiversity Information Facility (GBIF) Integrated Publishing Toolkit (IPT). In addition and for convenience of the readers and data users, the same data are also published as a supplementary Excel file in an Appendix to the checklist (<ext-link ext-link-type="uri" xlink:href="http://dx.doi.org/10.3897/phytokeys.9.2279.app1" xlink:type="simple">doi: 10.3897/phytokeys.9.2279.app1</ext-link>).</p>
            <p>Checklists are often based upon personal or institutional databases of specimen records and names (see <xref ref-type="bibr" rid="B1">Acevedo and Strong 2012</xref> and <ext-link ext-link-type="uri" xlink:href="http://botany.si.edu/antilles/WestIndies/index.htm" xlink:type="simple">http://botany.si.edu/antilles/WestIndies/index.htm</ext-link>); part of the Ñeembucú checklist was assembled using a database, but the presentation in final form also involved editing and adding some data elements using a conventional word processing application. This combination of methods meant that recovering the entire dataset from the conventional MS Word file as described below was more efficient than combining the different elements derived from databases and word processed files <italic>de novo</italic>.</p>
        </sec>
        <sec sec-type="The Darwin Core Archive Standard and Format"><title>The Darwin Core Archive Standard and Format</title>
            <p>The Global Biodiversity Information Facility (GBIF) and the Biodiversity Information Standards (TDWG) recently launched a new format for storing species occurrence data and taxon checklists, named Darwin Core Archive (DwC-A) (<ext-link ext-link-type="uri" xlink:href="http://www.gbif.org/informatics/standards-and-tools/publishing-data/data-standards/darwin-core-archives/" xlink:type="simple">http://www.gbif.org/informatics/standards-and-tools/publishing-data/data-standards/darwin-core-archives/</ext-link>). DwC-A is based on the Darwin Core (DwC) standard (<xref ref-type="bibr" rid="B16">Wieczorek et al. 2012</xref>) and seems to be a convenient and widely applicable format for handling primary biodiversity data, including conversions from text into data. DwC-A is an internationally accepted biodiversity informatics data standard and the preferred format for publishing data through the GBIF network.</p>
            <p>Each Darwin Core Archive consists of at least three files:</p>
            <p>1.	One or more data files keeping all records of the particular dataset in a tabular format such as a comma-separated or tab-separated list;</p>
            <p>2.	The archive descriptor (meta.xml) file describing the individual data file columns used, as well as their mapping to DwC terms; and</p>
            <p>3.	A metadata file describing the entire dataset which GBIF recommends be based on EML (Ecological Metadata Language 2.1.1).</p>
            <!--PageBreak-->
            <p>The format is defined in the Darwin Core Text Guidelines (<ext-link ext-link-type="uri" xlink:href="http://rs.tdwg.org/dwc/2009-02-20/terms/guides/text/index.htm" xlink:type="simple">http://rs.tdwg.org/dwc/2009-02-20/terms/guides/text/index.htm</ext-link>). The Darwin Core is no longer restricted to occurrence data only, and together with the more generic Dublin Core metadata standard (on which its principles are based), it is used by GBIF and others to encode metadata about organism names, taxonomies and species information.</p>
            <p>GBIF has produced a series of documents and supporting tools that focus primarily on Darwin Core publishing. They are divided into three profiles, each of which represents a series of documents based on the different content types upon which GBIF focuses:</p>
            <p>•	Primary biodiversity data: <ext-link ext-link-type="uri" xlink:href="http://www.gbif.org/informatics/primary-data/publishing/" xlink:type="simple">http://www.gbif.org/informatics/primary-data/publishing/</ext-link></p>
            <p>•	Checklists: <ext-link ext-link-type="uri" xlink:href="http://www.gbif.org/informatics/name-services/publishing/" xlink:type="simple">http://www.gbif.org/informatics/name-services/publishing/</ext-link></p>
            <p>•	Resource metadata: <ext-link ext-link-type="uri" xlink:href="http://www.gbif.org/informatics/discoverymetadata/publishing/" xlink:type="simple">http://www.gbif.org/informatics/discoverymetadata/publishing/</ext-link></p>
            <p>In addition to the GBIF Integrated Publishing Toolkit (IPT), two additional tools have been developed for producing Darwin Core Archives:</p>
            <p>1. A suite of MS Excel Templates (<ext-link ext-link-type="uri" xlink:href="http://tools.gbif.org/spreadsheet-processor" xlink:type="simple">http://tools.gbif.org/spreadsheet-processor</ext-link>) that  are coupled with a web service that processes completed files and returns a validated Darwin Core Archive. Templates exist for primary biodiversity data, simple checklists, and EML metadata.</p>
            <p>2. Darwin Core Archive Assistant (<ext-link ext-link-type="uri" xlink:href="http://tools.gbif.org/dwca-assistant" xlink:type="simple">http://tools.gbif.org/dwca-assistant</ext-link>) is a tool that composes an XML metafile, the only XML component of a Darwin Core Archive. It displays a drop-down list of Darwin Core and extension terms, accessed dynamically from the GBIF registry, and displays these to the user who describes the data files. This allows Darwin Core Archives to be created for sharing without the need to install any software.</p>
            <p>Darwin Core Archive files can also be generated from data uploaded on the IPT and then published as a zipped supplementary file, associated with a research article, for example species occurrence data and checklists underlying any taxonomic revision (see sample papers by <xref ref-type="bibr" rid="B15">Talamas et al. 2011</xref>; <xref ref-type="bibr" rid="B8">Faulwetter et al. 2011</xref>; <xref ref-type="bibr" rid="B11">Lambkin and Barlett 2011</xref>). The publication of large datasets in the form of data papers is also supported (<xref ref-type="bibr" rid="B4">Chavan and Penev 2011</xref>, see <xref ref-type="bibr" rid="B12">Narwade et al. 2011</xref> for an example of such a data paper).</p>
        </sec>
        <sec sec-type="The conversion process"><title>The conversion process</title>
            <p>Checklists in botany traditionally contain a series of elements, including accepted name, synonyms, habit (life form), distribution and vouchers (and sometimes many more). Vouchers are usually specimens or literature records cited to confirm the presence of the taxon in the region for which the checklist is prepared. Although checklists <!--PageBreak-->are seen as relatively standardized as compared to monographic or revisionary works there are a number of conventions used in their presentation that our conversion process revealed as potential problems for mining such literature. Print-based publication has a tradition of saving space to lower costs. This space-saving gives rise to conventions such as “microcitation” of places of publication of scientific names using single page references only (see RDM Page’s iPhylo at <ext-link ext-link-type="uri" xlink:href="http://iphylo.blogspot.com/2011/03/microcitations-linking-nomenclators-to.html" xlink:type="simple">http://iphylo.blogspot.com/2011/03/microcitations-linking-nomenclators-to.html</ext-link>) or the abbreviation of generic names in lists (see <xref ref-type="bibr" rid="B13">Peña-Chocarro et al. 2010</xref>). Deconstructing a text-based checklist with such minimalisations can cause contextual problems such as, for example, a synonym with an abbreviated generic name can lose its context in a parsed checklist. These sorts of problems will be encountered in any conversion of text to data set, and our experience here has highlighted some of the issues that need to be taken into account before a conversion is attempted.</p>
            <p>As an annotated species checklist, taxa are presented sequentially with a hierarchical order implied by the sequence. The higher taxa are listed first. In this checklist the highest groups are only presented with informal names (e.g., “Ferns” “Lycopods”). Latin family names are listed as child taxa of the aforementioned informal names. Species and infraspecies, which form the primary focus of the list, are presented alphabetically in separate lines that follow the listing of the family in which they are contained.</p>
            <p><xref ref-type="fig" rid="F1">Figure 1</xref> illustrates a typical species record from the Ñeembucú checklist with annotations on the left that identify major data sub-elements within the species account. It shows that a single taxon record occupies multiple lines in the manuscript. Different lines in a record hold different data subelements. The figure illustrates a complete record but the records in the manuscript are not completely standard and may not contain all the sub-elements as shown in the figure. For example, a species with no recognised synonyms would lack the synonymy section, or a taxon identified only to a genus level would lack publication information.</p>
            <fig id="F1" position="float" orientation="portrait">
                <label>Figure 1.</label>
                <caption><p> A typical species record from the checklist.</p></caption>
                <graphic xlink:href="PhytoKeys-009-001-g001.jpg" position="float" orientation="portrait" xlink:type="simple"></graphic>
            </fig>
            <!--PageBreak-->
            <p>A complete record has the following parts.</p>
            <p>The first line contains the taxon name and authorship followed by a short bibliographic citation representing the original publication of the name.</p>
            <p>The second line contains a list of synonyms, with authorship, separated by semicolons.</p>
            <p>The third line describes the habit of the referenced taxon with values obtained from a short set of possible values.</p>
            <p>The fourth line details the distribution of the taxon in the rest of Paraguay by Department.</p>
            <p>The fifth line refers to voucher material showing the presence of the taxon in the Department of Ñeembucú.</p>
            <p>The objective in the following steps was to deconstruct these records from the unparsed manuscript, split them into smaller atomic parts, and reassemble these parts into a database structure that could then be mapped to the standard Darwin Core Archive format.</p>
            <p>The tools used for this process were a text editor that supports regular expressions and a simple relational database “application” or “management system” (RDBMS). Regular expressions are coding conventions, similar to a programming language, used to recognise and manipulate patterns in text data (<xref ref-type="bibr" rid="B9">Friedel 1998</xref>). They were utilised to split the data into smaller parts for assembling into our database.</p>
            <p>Following the analysis of the manuscript, we designed a target database structure to which the data were transformed. Our target format is based on the same structure as the Darwin Core Archive format for annotated species checklists. The checklist data would be parsed and transformed into three data tables ultimately stored as simple tab-delimited files with a structure as follows (see Excel data tables at: DOI: 10.3897/phytokeys.9.2279.app1).</p>
            <p>This table forms the taxon record component (<xref ref-type="table" rid="T1">Table 1</xref>) of the DwC-A and is stored in a Darwin Core Archive core structure. Additional repeating data elements are stored in supplementary text files, called <italic>extensions</italic>. There are extension definitions for many data subtypes found in annotated species checklists such as distribution data, <!--PageBreak-->common names, and descriptive content. We designated two additional tables; one for distribution data (<xref ref-type="table" rid="T2">Table 2</xref>) and one for descriptive elements (<xref ref-type="table" rid="T3">Table 3</xref>). The first extension table stores the presence  of the taxon in Paraguay and distribution in country's departaments.</p>
            <table-wrap id="T1" position="float" orientation="portrait">
                <label>Table 1.</label>
                <caption><p> Taxon table - One row per name.</p></caption>
                <table>
                    <tbody>
                        <tr>
                            <td rowspan="1" colspan="1">ID</td>
                            <td rowspan="1" colspan="1">A unique identifier for each name in the database including synonyms, higher taxa and the accepted name itself. This is the key element for the data interoperability. All related data refer to this identifier</td>
                        </tr>
                        <tr>
                            <td rowspan="1" colspan="1">Scientific Name</td>
                            <td rowspan="1" colspan="1">Stores the full (with authorship) scientific name of the taxon</td>
                        </tr>
                        <tr>
                            <td rowspan="1" colspan="1">Taxonomic Status</td>
                            <td rowspan="1" colspan="1">Identifies whether it is an accepted name or a synonym</td>
                        </tr>
                        <tr>
                            <td rowspan="1" colspan="1">Rank</td>
                            <td rowspan="1" colspan="1">Indicates the rank of the taxon </td>
                        </tr>
                        <tr>
                            <td rowspan="1" colspan="1">Accepted name ID</td>
                            <td rowspan="1" colspan="1">In case of synonym, this field indicates the ID of the accepted name</td>
                        </tr>
                        <tr>
                            <td rowspan="1" colspan="1">Parent ID</td>
                            <td rowspan="1" colspan="1">In case of accepted name, this field indicates the ID of its taxonomic parent</td>
                        </tr>
                        <tr>
                            <td rowspan="1" colspan="1">Nomen. Status</td>
                            <td rowspan="1" colspan="1">For synonyms containing also nomenclatural comments (e.g., “comb. Superfl.”)</td>
                        </tr>
                        <tr>
                            <td rowspan="1" colspan="1">Original Publication</td>
                            <td rowspan="1" colspan="1">Indicates the original publication where the taxon was published</td>
                        </tr>
                        <tr>
                            <td rowspan="1" colspan="1">Remarks</td>
                            <td rowspan="1" colspan="1">Stores additional remarks regarding the taxon</td>
                        </tr>
                    </tbody>
                </table>
            </table-wrap>
            <!--PageBreak-->
            <p>The second extension table stores the voucher information, as well as the taxon habit.</p>
            <table-wrap id="T2" position="float" orientation="portrait">
                <label>Table 2.</label>
                <caption><p> Distribution table - One row per geographic region per taxon.</p></caption>
                <table>
                    <tbody>
                        <tr>
                            <td rowspan="1" colspan="1">ID</td>
                            <td rowspan="1" colspan="1">The ID of the taxon being referenced</td>
                        </tr>
                        <tr>
                            <td rowspan="1" colspan="1">Country</td>
                            <td rowspan="1" colspan="1">Stores Paraguay as a constant value</td>
                        </tr>
                        <tr>
                            <td rowspan="1" colspan="1">Locality</td>
                            <td rowspan="1" colspan="1">Stores the department name(s)</td>
                        </tr>
                    </tbody>
                </table>
            </table-wrap>
            <p>The conversion of the <italic>Checklist of vascular plants of the Department of Ñeembucú, Paraguay</italic> was realized through the following procedures and steps:</p>
            <table-wrap id="T3" position="float" orientation="portrait">
                <label>Table 3.</label>
                <caption><p> Description table - One row per description per taxon.</p></caption>
                <table>
                    <tbody>
                        <tr>
                            <td rowspan="1" colspan="1">ID</td>
                            <td rowspan="1" colspan="1">The ID of the taxon being referenced</td>
                        </tr>
                        <tr>
                            <td rowspan="1" colspan="1">Type</td>
                            <td rowspan="1" colspan="1">The type of description being recorded (e.g., Habit, Genetic, Reproduction)</td>
                        </tr>
                        <tr>
                            <td rowspan="1" colspan="1">Description</td>
                            <td rowspan="1" colspan="1">The descriptive text itself</td>
                        </tr>
                    </tbody>
                </table>
            </table-wrap>
            <sec sec-type="Step 1 – Transform the checklist records into one taxon record per line"><title>Step 1 – Transform the checklist records into one taxon record per line</title>
                <p>The checklist was cut from the original MS Word manuscript and pasted as text into the text editor. Two carriage returns separate the individual taxon records. Taxon records themselves occupy multiple lines with each line representing a major sub-element.  Our goal in this step was to condense a multi-line taxon record into a single line and separate the record sub-elements with tabs. This is done in reverse order by:</p>
                <p>replacing all double line endings with some unique character not in the manuscript (we used “@”);</p>
                <p>replacing all remaining (single) line endings with a tab;</p>
                <p>returning the original replacement in the first step (the “@”) with a line-ending.</p>
                <p>The end result of this step is a formatted text that can now be imported into a relational database manager.</p>
            </sec>
            <sec sec-type="Step 2 – Import the file into a relational database manager"><title>Step 2 – Import the file into a relational database manager</title>
                <p>We imported the raw, re-formatted data into a relational database manager (Filemaker Pro). <xref ref-type="fig" rid="F2">Figure 2</xref> illustrates a portion of the result. A quick review reveals that the columns in individual records are not aligned. This is due to the fact that some species have incomplete set of subelements, as identified in <xref ref-type="fig" rid="F1">Fig. 1</xref>. This issue is addressed in Step 4.</p>
                <fig id="F2" position="float" orientation="portrait">
                    <label>Figure 2.</label>
                    <caption><p>Taxon records imported into a database.</p></caption>
                    <graphic xlink:href="PhytoKeys-009-001-g002.jpg" position="float" orientation="portrait" xlink:type="simple"></graphic>
                </fig>
            </sec>
            <sec sec-type="Step 3 – Assign unique identifiers to each row"><title>Step 3 – Assign unique identifiers to each row</title>
                <p>We added a new column to the table and populated it with an incrementing integer to create a unique identifier for each record, as shown in <xref ref-type="fig" rid="F3">Figure 3</xref> (note that for convenience we named the individual columns with their target data type).</p>
                <fig id="F3" position="float" orientation="portrait">
                    <label>Figure 3.</label>
                    <caption><p>An updated database with final column titles and unique identifier added for each record.</p></caption>
                    <graphic xlink:href="PhytoKeys-009-001-g003.jpg" position="float" orientation="portrait" xlink:type="simple"></graphic>
                </fig>
            </sec>
            <sec sec-type="Step 4 – Align content to correct columns"><title>Step 4 – Align content to correct columns</title>
                <p>This step requires the identification and transposition of data values from an incorrect column to the correct one. Identification of errant values was facilitated by the authors’ use of consistent and unique text in each subelement of a taxon record. For example, the synonymy section always starts with the text “Syn:” and the specimen data always starts with the text “Voucher.” The re-alignment process therefore consists of searching for instances of this standard text within other columns of the table, copying the resultant set of responses to the correct column, and deleting the original value from its erroneous location. At the end of this step, all data values were validated and placed in their correct columns, as shown in <xref ref-type="fig" rid="F4">Figure 4</xref>.</p>
                <fig id="F4" position="float" orientation="portrait">
                    <label>Figure 4.</label>
                    <caption><p>Data correctly aligned with columns.</p></caption>
                    <graphic xlink:href="PhytoKeys-009-001-g004.jpg" position="float" orientation="portrait" xlink:type="simple"></graphic>
                </fig>
            </sec>
            <sec sec-type="Step 5 – Build the taxonomic hierarchy"><title>Step 5 – Build the taxonomic hierarchy</title>
                <p>The Ñeembucú checklist is presented in a typical manuscript form where the hierarchical classification information can be inferred from the natural order of taxa presented in the list. Parent taxa are identified first, followed by child taxa. Knowledge of the relationships among taxon ranks and the means to identify members of a particular rank from the sequence presented is required to correctly infer the taxonomic structure.</p>
                <p>We recorded taxonomic hierarchy information by adding a “parent ID” column to the core taxon table. This column will contain the identifier value for the immediate parent of the taxon record. For example, in <xref ref-type="fig" rid="F4">Figure 4</xref> we can infer that the parent taxon of <italic><tp:taxon-name>Azolla filiculoides</tp:taxon-name></italic> is AZOLLACEAE which has an ID of 7. The parent ID value for <italic><tp:taxon-name>Azolla filiculoides</tp:taxon-name></italic> is therefore 7. Likewise, the AZOLLACEAE record has a parent of “Ferns” and therefore it would have a parent ID of 4.</p>
                <p>No automated techniques were used to populate this parent ID column but it was a straightforward exercise to copy and paste the correct values into the table. This was the only manual process in the entire transformation.</p>
            </sec>
            <sec sec-type="Step 6 – Split the name from the original publication information"><title>Step 6 – Split the name from the original publication information</title>
                <p>Some of the columns in the main data table require additional parsing. The first column contains the scientific name, original publication citation, and, in some cases additional notation indicating the taxon status.</p>
                <p><xref ref-type="fig" rid="F5">Figure 5</xref> illustrates a typical example. For convenience in parsing, the authors separated the scientific name component of the line from the publication component using a comma (,). It was therefore straightforward to use a regular expression to split the content at the comma and separate the publication and name into separate columns. The ‘►’ character and other notations that occupy the first character of some records (see <xref ref-type="bibr" rid="B7">De Egea et al. 2012</xref> for explanation of the meanings for these notations) were separated out to a distinct column in a similar way.</p>
                <fig id="F5" position="float" orientation="portrait">
                    <label>Figure 5.</label>
                    <caption><p>Example of a scientific name entry.</p></caption>
                    <graphic xlink:href="PhytoKeys-009-001-g005.jpg" position="float" orientation="portrait" xlink:type="simple"></graphic>
                </fig>
            </sec>
            <sec sec-type="Step 7 – Split the synonyms into separate records"><title>Step 7 – Split the synonyms into separate records</title>
                <p>Synonyms in the manuscript are separated by semicolons and the subsequent table stores all synonyms in a single field.  Our objective in this step was to split each synonym into a separate name record in the main table and link it to the accepted name record via a new ‘accepted name ID’ field. We did this by exporting the ID and Synonym field from the table to a text file. Using a regular expression, we were able to split the synonyms into separate lines – one line per synonym and add the identifier to each line as well.  This was then re-imported back into the database as new synonym records, linked to the accepted taxon via the ‘accepted name ID’. A ‘taxonomic status’ column was also added and populated with values. Incoming synonyms were labelled as ‘unaccepted’ names and accepted taxa were identified as ‘accepted’ (see <xref ref-type="fig" rid="F6">Figure 6</xref>).</p>
                <fig id="F6" position="float" orientation="portrait">
                    <label>Figure 6.</label>
                    <caption><p>Synonym records (highlighted) added and linked.</p></caption>
                    <graphic xlink:href="PhytoKeys-009-001-g006.jpg" position="float" orientation="portrait" xlink:type="simple"></graphic>
                </fig>
            </sec>
            <sec sec-type="Step 8 – Export distribution and voucher information as separate tables"><title>Step 8 – Export distribution and voucher information as separate tables</title>
                <p>In order to conform to the Darwin Core Archive standard, some of the data columns in the initial core table were moved to the separate Distribution and Description tables. These data were exported with the original unique ID to provide the relational link back to the core taxon record.</p>
            </sec>
            <sec sec-type="Step 9 – Export the data to tab-separated text files"><title>Step 9 – Export the data to tab-separated text files</title>
                <p>The final data processing step consisted of creating a set of three exported text files containing the core checklist data and the ancillary voucher and distribution data. This was achieved using the text export function of the database management system. Three text files were created as a result of this step.</p>
            </sec>
            <sec sec-type="Step 10 – Map the exported text files to the Darwin Core Archive standard using the Darwin Core Archive Assistant"><title>Step 10 – Map the exported text files to the Darwin Core Archive standard using the Darwin Core Archive Assistant</title>
                <p>Each of the three exported data files was described using Darwin Core Archive Assistant. This web application is used to generate the XML ‘data map’ that specifies the Darwin Core standard term each column value is mapped to. It allows users of the data to understand, for example, that column 2 of the data file named “checklist.tab” is mapped to the Darwin Core term, <italic>scientificName</italic>.</p>
            </sec>
            <sec sec-type="Step 11 – Use the Integrated Publishing Toolkit to generate a description of the dataset in the Ecological Metadata Format (EML)"><title>Step 11 – Use the Integrated Publishing Toolkit to generate a description of the dataset in the Ecological Metadata Format (EML)</title>
                <p>The Darwin Core Archive format recommends the inclusion of a description of the dataset in the archive itself and specifies a metadata format for this. We used an installation of the Integrated Publishing Toolkit located at GBIF to compose the metadata document by filling in a series of web forms. The output of this exercise was the EML document. Note that in both steps 10 and 11 no underlying knowledge of XML is required to create these XML documents.</p>
            </sec>
            <sec sec-type="Step 12 – Proof the final parsed output"><title>Step 12 – Proof the final parsed output</title>
                <p>The parsed checklist data was provided to the manuscript authors for proofing by exporting a copy of the data as an Excel spreadsheet file. Minor parsing errors were identified and corrected in the source database and the data export (Step 9) was repeated.</p>
            </sec>
            <sec sec-type="Final step – Create the Archive"><title>Final step – Create the Archive</title>
                <p>The final step in creating the Darwin Core Archive was to place all the generated files into a single folder and zip them into a single archive. This zip file is the Darwin Core Archive itself. It was validated using the Darwin Core Archive Validator (<ext-link ext-link-type="uri" xlink:href="http://tools.gbif.org/dwca-validator/" xlink:type="simple">http://tools.gbif.org/dwca-validator/</ext-link>) and uploaded onto the Pensoft IPT Data Hosting Center (<ext-link ext-link-type="uri" xlink:href="http://ipt.pensoft.net/ipt/resource.do?r=neembucu" xlink:type="simple">http://ipt.pensoft.net/ipt/resource.do?r=neembucu</ext-link>).</p>
            </sec>
        </sec>
        <sec sec-type="Conclusions"><title>Conclusions</title>
            <p>This pilot project undertaken with the <italic>Checklist of vascular plants of the Department of Ñeembucú, Paraguay</italic> should be seen as a test of a necessary step in the process of creating a data conversion and publishing workflow for primary biodiversity data based on a new interoperability format, the Darwin Core Archive (DwC-A). Such a conversion workflow will allow essential taxonomic information, such as taxon checklists and catalogues to be published simultaneously in both human-readable text and machine-readable structured data formats.</p>
            <p>Our example here shows that Darwin Core Archive format can be used for conversions of a text-based species occurrence checklists published in a traditional botanical format. The advantage of using Darwin Core Archive format is that the data structured <!--PageBreak-->according to DwC-A requirements can be published through the GBIF IPT, where the authors can also publish enriched metadata descriptions of the dataset. DwC-A structured data can easily be shared between scientists and publishers as a set of zipped files, that contain not only the data, but also the associated metadata (descriptions of the fields in the data tables and also description of the whole dataset)  and the relations between them. Once the data are published through the GBIF infrastructure, they become discoverable through searches of metadata or through individual data items themselves (e.g., taxon names).</p>
            <p>Such a conversion can be achieved when manuscripts are written following very strict text-formatting conventions and when various iterations of the decomposed text are proof-read by the original authors in order to catch any mistakes in parsing or resulting from parsing. While it might be preferable that such checklists are generated directly from a Darwin Core format database such that a conversion would not be necessary, in reality, checklists are produced in many formats and with many audiences in mind, not just with re-use of data as an ultimate objective. Very often scientists producing checklists are not necessarily in possession of sufficient database knowledge to design schemas that are really structured for re-use. We further face the reality that Darwin Core Archive - especially when used for sharing checklists - is a format new to most biologists and prior to our efforts here, no checklist conversion workflow has been available for the Darwin Core Archive format. Our experience in converting the <italic>Checklist of vascular plants of the Department of Ñeembucú, Paraguay</italic> (<xref ref-type="bibr" rid="B7">De Egea et al. 2012</xref>) will be useful for formulating text-formatting conventions, as well as for developing software tools that will facilitate conversion of text to data.</p>
            <p>A couple of general principles for those creating checklists in text-based formats emerged:</p>
            <p>1.	Space saving conventions need to be abandoned or at least constrained.</p>
            <p>2.	Consistency in punctuation and in taxon entry format is essential; this would also apply to parsing of legacy data. A step in a conversion process that would reformat legacy text to a machine readable form will be time-consuming but ultimately might save re-inventing a process each time for differently formatted legacy texts.</p>
            <p>In addition, the text decomposition and the problems we encountered while refining the conversion process will be useful when experimenting with the opposite process, the creation of human-readable text checklists from Darwin Core Archive data.</p>
            <p>The simultaneous provision of data in both human and machine-readable form greatly improves their use and re-use. Text-based presentations will continue to be useful for checklists employed in on-the-ground conservation tasks such as protected area management. Transformation of a manuscript to a database greatly increases the potential for re-use as the data become available in a more atomized and standardized form. Examples of re-use of data published in this way include the re-aggregation of regional lists into larger compilations such as supra-departmental lists, national floras/faunas and global species catalogues. A converted checklist enables a regional list like<!--PageBreak--> this one to be integrated with additional species-level data such as that presented in the Encyclopedia of Life or GBIF and  thus extend the annotations tied to the list. It allows also the data to be cross-referenced with additional taxonomic and nomenclatural indexing centres and registries such as the International Plant Name Index (IPNI), MycoBank, Index Fungorum or ZooBank where authorship, publication source and other taxonomic and nomenclatural components can be verified. Such a verified list can in turn serve as a taxonomic authority for new regional compilations.</p>
        </sec>
    </body>
    <back>
        <ack>
            <title>Acknowledgements</title>
            <p>This study was partially funded by the FP7 project ViBRANT (Virtual Biodiversity Research and Access Network for Taxonomy, <ext-link ext-link-type="uri" xlink:href="http://vbrant.eu" xlink:type="simple">http://vbrant.eu</ext-link>) (to DR, LP, PS and TG) and by NSF (PBI <italic><tp:taxon-name>Solanum</tp:taxon-name></italic>: a worldwide treatment, DEB-0316614, to SK). Work in Paraguay was supported by the Darwin Initiative of the UK Government’s Department of Environment, Food and Rural Affairs (Defra 12011 – 2003-2006). We thank G. Hagedorn and D. Roberts for very helpful reviews.</p>
        </ack>
        <ref-list>
            <title>References</title>
            <ref id="B1"><mixed-citation xlink:type="simple"><person-group><name name-style="western"><surname>Acevedo-Rodríguez</surname><given-names>P</given-names></name><name name-style="western"><surname>Strong</surname><given-names>MT</given-names></name></person-group> (<year>2012</year>)<source> Catalogue of Seed Plants of the West Indies. Smithsonian Contributions to Botany 98: 1–1193. Also available as a searchable database at <ext-link ext-link-type="uri" xlink:href="http://botany.si.edu/antilles/WestIndies/index.htm" xlink:type="simple">http://botany.si.edu/antilles/WestIndies/index.htm</ext-link></source></mixed-citation></ref>
            <ref id="B2"><mixed-citation xlink:type="simple"><person-group><name name-style="western"><surname>Agosti</surname><given-names>D</given-names></name><name name-style="western"><surname>Klingenberg</surname><given-names>C</given-names></name><name name-style="western"><surname>Sautter</surname><given-names>G</given-names></name><name name-style="western"><surname>Johnson</surname><given-names>N</given-names></name><name name-style="western"><surname>Stephenson</surname><given-names>C</given-names></name><name name-style="western"><surname>Catapano</surname><given-names>T</given-names></name></person-group> (<year>2007</year>)<source> Why not let the computer save you time by reading the taxonomic papers for you? Biológico, São Paulo 69 (suplemento 2): 545–548. <ext-link ext-link-type="uri" xlink:href="http://hdl.handle.net/10199/15441" xlink:type="simple">http://hdl.handle.net/10199/15441</ext-link></source></mixed-citation></ref>
            <ref id="B3"><mixed-citation xlink:type="simple"><person-group><name name-style="western"><surname>Brandenburger</surname><given-names>W</given-names></name><name name-style="western"><surname>Hagedorn</surname><given-names>G</given-names></name></person-group> (<year>2006</year>)<article-title> Zur Verbreitung von Peronosporales (inkl. <italic>Albugo</italic>, ohne <italic>Phytophthora</italic>) in Deutschland. Mitt. Biol. Bundesanst. Land-Forstwirtsch.</article-title>  <volume>405</volume>: <fpage>1</fpage>-<lpage>174</lpage>.</mixed-citation></ref>
            <ref id="B4"><mixed-citation xlink:type="simple"><person-group><name name-style="western"><surname>Chavan</surname><given-names>V</given-names></name><name name-style="western"><surname>Penev</surname><given-names>L</given-names></name></person-group> (<year>2011</year>)<source> The data paper: a mechanism to incentivize data publishing in biodiversity science. BMC Bioinformatics, 12 (Suppl 15): S2. </source><ext-link ext-link-type="uri" xlink:href="http://dx.doi.org/10.1186/1471-2105-12-S15-S2" xlink:type="simple">doi: 10.1186/1471-2105-12-S15-S2</ext-link></mixed-citation></ref>
            <ref id="B5"><mixed-citation xlink:type="simple"><person-group><name name-style="western"><surname>Curry</surname><given-names>GB</given-names></name><name name-style="western"><surname>Connor</surname><given-names>RJ</given-names></name></person-group> (<year>2007</year>)<source> Automated extraction of biodiversity data from taxonomic descriptions. In: Curry GB, Humphries CJ (Eds) Biodiversity databases: Techniques, politics, and applications: Systematics Association Special Volume 73: Boca Raton, Florida, CRC Press, Chapter 6: 63–81.</source></mixed-citation></ref>
            <ref id="B6"><mixed-citation xlink:type="simple"><person-group><name name-style="western"><surname>Curry</surname><given-names>GB</given-names></name><name name-style="western"><surname>Connor</surname><given-names>RCH</given-names></name></person-group> (<year>2008</year>)<article-title> Automated extraction of data from text using an XML parser: An earth science example using fossil descriptions.</article-title> <source>Geosphere </source> <volume>4</volume>: <fpage>159</fpage>-<lpage>169</lpage>.</mixed-citation></ref>
            <ref id="B7"><mixed-citation xlink:type="simple"><person-group><name name-style="western"><surname>De Egea</surname><given-names>J</given-names></name><name name-style="western"><surname>Peña-Chocarro</surname><given-names>M</given-names></name><name name-style="western"><surname>Espada</surname><given-names>C</given-names></name><name name-style="western"><surname>Knapp</surname><given-names>S</given-names></name></person-group> (<year>2012</year>)<article-title> Checklist of vascular plants of the Department of Ñeembucú, Paraguay.</article-title> <source>PhytoKeys </source> <volume>9</volume>: <fpage>15</fpage>-<lpage>179</lpage>. <ext-link ext-link-type="uri" xlink:href="http://dx.doi.org/10.3897/phytokeys.9.2279" xlink:type="simple">doi: 10.3897/phytokeys.9.2279</ext-link></mixed-citation></ref>
            <ref id="B8"><mixed-citation xlink:type="simple"><person-group><name name-style="western"><surname>Faulwetter</surname><given-names>S</given-names></name><name name-style="western"><surname>Chatzigeorgiou</surname><given-names>G</given-names></name><name name-style="western"><surname>Galil</surname><given-names>B</given-names></name><name name-style="western"><surname>Arvanitidis</surname><given-names>C</given-names></name></person-group> (<year>2011</year>)<article-title> An account of the taxonomy and distribution of Syllidae (Annelida, Polychaetes) in the eastern Mediterranean, with notes on the genus <italic>Prosphaerosyllis</italic> San Martín, 1984 in the Mediterranean.</article-title> <source>ZooKeys </source> <volume>150</volume>: <fpage>281</fpage>-<lpage>326</lpage>. <ext-link ext-link-type="uri" xlink:href="http://dx.doi.org/10.3897/zookeys.150.2146" xlink:type="simple">doi: 10.3897/zookeys.150.2146</ext-link></mixed-citation></ref>
            <ref id="B9"><mixed-citation xlink:type="simple"><person-group><name name-style="western"><surname>Friedel</surname><given-names>JEF</given-names></name></person-group> (<year>1998</year>)<source> Mastering Regular Expressions, O’Reilly &amp; Associates, Inc. Sebastopol, CA, USA.</source></mixed-citation></ref>
            <ref id="B10"><mixed-citation xlink:type="simple"><person-group><name name-style="western"><surname>Kirkup</surname><given-names>D</given-names></name><name name-style="western"><surname>Malcolm</surname><given-names>P</given-names></name><name name-style="western"><surname>Christian</surname><given-names>G</given-names></name><name name-style="western"><surname>Paton</surname><given-names>A</given-names></name></person-group> (<year>2005</year>)<article-title> Towards a digital African Flora.</article-title> <source>Taxon </source> <volume>5</volume>: <fpage>457</fpage>-<lpage>466</lpage>.</mixed-citation></ref>
            <ref id="B11"><mixed-citation xlink:type="simple"><person-group><name name-style="western"><surname>Lambkin</surname><given-names>C</given-names></name><name name-style="western"><surname>Bartlett</surname><given-names>J</given-names></name></person-group> (<year>2011</year>)<article-title> Bush Blitz aids description of three new species and a new genus of Australian beeflies (Diptera, Bombyliidae, Exoprosopini).</article-title> <source>ZooKeys </source> <volume>150</volume>: <fpage>231</fpage>-<lpage>280</lpage>. <ext-link ext-link-type="uri" xlink:href="http://dx.doi.org/10.3897/zookeys.150.1881" xlink:type="simple">doi: 10.3897/zookeys.150.1881</ext-link></mixed-citation></ref>
            <ref id="B12"><mixed-citation xlink:type="simple"><person-group><name name-style="western"><surname>Narwade</surname><given-names>S</given-names></name><name name-style="western"><surname>Kalra</surname><given-names>M</given-names></name><name name-style="western"><surname>Jagdish</surname><given-names>R</given-names></name><name name-style="western"><surname>Varier</surname><given-names>D</given-names></name><name name-style="western"><surname>Satpute</surname><given-names>S</given-names></name><name name-style="western"><surname>Khan</surname><given-names>N</given-names></name><name name-style="western"><surname>Talukdar</surname><given-names>G</given-names></name><name name-style="western"><surname>Mathur</surname><given-names>V</given-names></name><name name-style="western"><surname>Vasudevan</surname><given-names>K</given-names></name><name name-style="western"><surname>Pundir</surname><given-names>D</given-names></name><name name-style="western"><surname>Chavan</surname><given-names>V</given-names></name><name name-style="western"><surname>Sood</surname><given-names>R</given-names></name></person-group> (<year>2011</year>)<article-title> Literature based species occurrence data of birds of northeast India.</article-title> <source>ZooKeys </source> <volume>150</volume>: <fpage>407</fpage>-<lpage>417</lpage>. <ext-link ext-link-type="uri" xlink:href="http://dx.doi.org/10.3897/zookeys.150.2002" xlink:type="simple">doi: 10.3897/zookeys.150.2002</ext-link></mixed-citation></ref>
            <ref id="B13"><mixed-citation xlink:type="simple"><person-group><name name-style="western"><surname>Peña-Chocarro</surname><given-names>M</given-names></name><name name-style="western"><surname>Espada-Mattos</surname><given-names>C</given-names></name><name name-style="western"><surname>Vera</surname><given-names>M</given-names></name><name name-style="western"><surname>Knapp</surname><given-names>S</given-names></name></person-group> (<year>2010</year>)<article-title> Updated checklist of vascular plants of the Mbaracayú Forest Nature Reserve (Reserva Natural del Bosque Mbaracayú), Paraguay.</article-title> <source>Phytotaxa </source> <volume>12</volume>: <fpage>1</fpage>-<lpage>224</lpage>.</mixed-citation></ref>
            <ref id="B14"><mixed-citation xlink:type="simple"><person-group><name name-style="western"><surname>Penev</surname><given-names>L</given-names></name><name name-style="western"><surname>Lyal</surname><given-names>C</given-names></name><name name-style="western"><surname>Weitzman</surname><given-names>A</given-names></name><name name-style="western"><surname>Morse</surname><given-names>D</given-names></name><name name-style="western"><surname>King</surname><given-names>D</given-names></name><name name-style="western"><surname>Sautter</surname><given-names>G</given-names></name><name name-style="western"><surname>Georgiev</surname><given-names>T</given-names></name><name name-style="western"><surname>Morris</surname><given-names>R</given-names></name><name name-style="western"><surname>Catapano</surname><given-names>T</given-names></name><name name-style="western"><surname>Agosti</surname><given-names>D</given-names></name></person-group> (<year>2011</year>)<article-title> XML schemas and mark-up practices of taxonomic literature.</article-title> <source>ZooKeys </source> <volume>150</volume>: <fpage>89</fpage>-<lpage>116</lpage>. <ext-link ext-link-type="uri" xlink:href="http://dx.doi.org/10.3897/zookeys.150.2213" xlink:type="simple">doi: 10.3897/zookeys.150.2213</ext-link></mixed-citation></ref>
            <ref id="B15"><mixed-citation xlink:type="simple"><person-group><name name-style="western"><surname>Talamas</surname><given-names>E</given-names></name><name name-style="western"><surname>Masner</surname><given-names>L</given-names></name><name name-style="western"><surname>Johnson</surname><given-names>N</given-names></name></person-group> (<year>2011</year>)<article-title> Revision of the <italic>Paridris nephta</italic> species group (Hymenoptera, Platygastroidea, Platygastridae).</article-title> <source>ZooKeys </source> <volume>133</volume>: <fpage>49</fpage>-<lpage>94</lpage>. <ext-link ext-link-type="uri" xlink:href="http://dx.doi.org/10.3897/zookeys.133.1613" xlink:type="simple">doi: 10.3897/zookeys.133.1613</ext-link></mixed-citation></ref>
            <ref id="B16"><mixed-citation xlink:type="simple"><person-group><name name-style="western"><surname>Wieczorek</surname><given-names>J</given-names></name><name name-style="western"><surname>Bloom</surname><given-names>D</given-names></name><name name-style="western"><surname>Guralnick</surname><given-names>R</given-names></name><name name-style="western"><surname>Blum</surname><given-names>S</given-names></name><name name-style="western"><surname>Döhring</surname><given-names>M</given-names></name><name name-style="western"><surname>Giovanni</surname><given-names>R</given-names></name><name name-style="western"><surname>Robertson</surname><given-names>T</given-names></name><name name-style="western"><surname>Vieglais</surname><given-names>D</given-names></name></person-group> (<year>2012</year>)<source> Darwin Core: An evolving community-developed biodiversity data standard. PLoS ONE (7(1): e29715. </source><ext-link ext-link-type="uri" xlink:href="http://dx.doi.org/10.1371/journal.pone.0029715" xlink:type="simple">doi: 10.1371/journal.pone.0029715</ext-link></mixed-citation></ref>
        </ref-list>
    </back>
</article>